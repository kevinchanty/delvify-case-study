(this.webpackJsonptaskapp=this.webpackJsonptaskapp||[]).push([[0],{102:function(e,t,n){},151:function(e,t,n){},153:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(20),s=n.n(c),i=(n(102),n(12)),o=n.n(i),d=n(24),l=n(9),j=n(40),u=n(10),b=n(166),h=n(161),O=n(164),p=n(1);function x(){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(b.a,{bg:"light",expand:"lg",children:Object(p.jsxs)(h.a,{children:[Object(p.jsx)(b.a.Brand,{as:j.b,to:"/",children:"Simple Task App"}),Object(p.jsx)(b.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(p.jsx)(b.a.Collapse,{id:"basic-navbar-nav",children:Object(p.jsx)(O.a,{className:"me-auto",children:Object(p.jsx)(O.a.Link,{as:j.b,to:"/",children:"Home"})})})]})}),Object(p.jsx)(h.a,{children:Object(p.jsx)(u.a,{})})]})}var f=n(162),m=n(168),v=n(167),w=n(93),g=n(27),k=Object(r.createContext)({status:"LOADING"});function C(e){e.setListContextState;var t=e.loadLists,n=Object(u.g)(),a=Object(r.useContext)(k),c=Object(r.useState)({show:!1,name:""}),s=Object(l.a)(c,2),i=s[0],j=s[1],b=Object(r.useState)({show:!1,target:0,name:""}),h=Object(l.a)(b,2),O=h[0],x=h[1],C=function(){return j({show:!1,name:""})},S=Object(r.useCallback)(Object(d.a)(o.a.mark((function e(){var n,r,a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={name:i.name},(r=new Headers).append("Content-Type","application/json"),e.prev=3,e.next=6,fetch("http://localhost:3100/lists",{headers:r,method:"POST",body:JSON.stringify(n)});case 6:a=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),console.error("Failed to POST:",e.t0),e.abrupt("return");case 13:return e.prev=13,e.next=16,a.json();case 16:c=e.sent,e.next=23;break;case 19:return e.prev=19,e.t1=e.catch(13),console.error("Failed decode json, POST:",e.t1),e.abrupt("return");case 23:c.error&&console.error("Failed to POST API:",c.error),j({show:!1,name:""}),t();case 26:case"end":return e.stop()}}),e,null,[[3,9],[13,19]])}))),[t,j,i]),T=Object(r.useCallback)(Object(d.a)(o.a.mark((function e(){var n,r,a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={listId:O.target},(r=new Headers).append("Content-Type","application/json"),e.prev=3,e.next=6,fetch("http://localhost:3100/lists",{headers:r,method:"DELETE",body:JSON.stringify(n)});case 6:a=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),console.error("Failed to POST:",e.t0),e.abrupt("return");case 13:return e.prev=13,e.next=16,a.json();case 16:c=e.sent,e.next=23;break;case 19:return e.prev=19,e.t1=e.catch(13),console.error("Failed decode json, POST:",e.t1),e.abrupt("return");case 23:c.error&&console.error("Failed to POST API:",c.error),x({show:!1,target:0,name:""}),t();case 26:case"end":return e.stop()}}),e,null,[[3,9],[13,19]])}))),[t,x,O]);return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(p.jsx)("h2",{children:"My List"}),Object(p.jsx)(f.a,{variant:"primary",size:"sm",onClick:function(){return j({show:!0,name:""})},children:"Add List"})]}),Object(p.jsx)(m.a,{as:"ol",numbered:!0,children:"LOADED"===a.status?a.value.map((function(e){return Object(p.jsxs)(m.a.Item,{as:"li",className:"d-flex justify-content-between align-items-start",action:!0,children:[Object(p.jsx)("div",{className:"ms-2 me-auto flex-fill",onClick:function(){return n("/list/".concat(e.id))},children:Object(p.jsx)("div",{className:"fw-bold",children:e.name})}),Object(p.jsx)("div",{className:"fs-3",onClick:function(){return x({show:!0,target:e.id,name:e.name})},children:Object(p.jsx)(g.d,{})})]},e.id)})):Object(p.jsx)("div",{children:"Loading..."})}),Object(p.jsxs)(v.a,{show:i.show,onHide:C,children:[Object(p.jsx)(v.a.Header,{closeButton:!0,children:Object(p.jsx)(v.a.Title,{children:"Enter a Name:"})}),Object(p.jsx)(v.a.Body,{children:Object(p.jsx)(w.a,{value:i.name,onChange:function(e){return j({show:!0,name:e.target.value})},"aria-describedby":"basic-addon3"})}),Object(p.jsxs)(v.a.Footer,{children:[Object(p.jsx)(f.a,{variant:"secondary",onClick:C,children:"Close"}),Object(p.jsx)(f.a,{variant:"primary",onClick:S,children:"Add"})]})]}),Object(p.jsxs)(v.a,{show:O.show,onHide:function(){return x({show:!1,target:0,name:""})},children:[Object(p.jsx)(v.a.Header,{closeButton:!0,children:Object(p.jsx)(v.a.Title,{children:"Confirm to Delete ".concat(O.name," ?")})}),Object(p.jsxs)(v.a.Footer,{children:[Object(p.jsx)(f.a,{variant:"secondary",onClick:function(){return x({show:!1,target:0,name:""})},children:"Close"}),Object(p.jsx)(f.a,{variant:"danger",onClick:T,children:"Delete"})]})]})]})}var S=n(2),T=n(73),y=n(165),D=n(163),P=n(88),F=n.n(P),I=(n(109),[{id:1,list_id:1,name:"Task 1",description:"sample description 1",deadline:new Date,isSelected:!1,is_completed:!1,is_deleted:!1,created_at:"2021-11-15T03:46:30.423Z",updated_at:"2021-11-15T03:46:30.423Z"}]);function L(){var e,t=Object(u.h)().listId,n=Object(r.useContext)(k),a=Object(r.useState)(I),c=Object(l.a)(a,2),s=c[0],i=c[1],j=Object(r.useState)("LOADING"),b=Object(l.a)(j,2),h=b[0],O=b[1],x=Object(r.useState)(!1),C=Object(l.a)(x,2),P=C[0],L=C[1],N=Object(r.useState)({name:"",description:"",deadline:new Date(Date.now()+36e5)}),A=Object(l.a)(N,2),H=A[0],E=A[1],B=Object(r.useState)({show:!1,name:"",description:"",deadline:new Date,target:0}),J=Object(l.a)(B,2),_=J[0],M=J[1],G=Object(r.useState)({show:!1,target:[]}),R=Object(l.a)(G,2),U=R[0],Z=R[1],z=s.reduce((function(e,t){return U.target.includes(t.id)&&e.push(t.name),e}),[]),q=Object(r.useState)({show:!1,target:[],listId:0}),K=Object(l.a)(q,2),Q=K[0],V=K[1],W=s.reduce((function(e,t){return Q.target.includes(t.id)&&e.push(t.name),e}),[]);var X=s.some((function(e){return e.isSelected})),Y=s.reduce((function(e,t){return t.isSelected&&e.push(t.id),e}),[]),$=Object(r.useCallback)(Object(d.a)(o.a.mark((function e(){var n,r,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:3100/tasks/".concat(t));case 2:return n=e.sent,e.next=5,n.json();case 5:if(!(r=e.sent).error){e.next=10;break}return console.log(r.error),O("ERROR"),e.abrupt("return");case 10:a=r.map((function(e){return Object(S.a)(Object(S.a)({},e),{},{deadline:new Date(e.deadline),isSelected:!1})})),O("LOADED"),i(a);case 14:case"end":return e.stop()}}),e)}))),[i,t]),ee=Object(r.useCallback)(Object(d.a)(o.a.mark((function e(){var n,r,a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={listId:t,name:H.name,description:H.description,deadline:H.deadline},(r=new Headers).append("Content-Type","application/json"),e.prev=3,e.next=6,fetch("http://localhost:3100/tasks",{headers:r,method:"POST",body:JSON.stringify(n)});case 6:a=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),console.error("Failed to POST:",e.t0),e.abrupt("return");case 13:return e.prev=13,e.next=16,a.json();case 16:c=e.sent,e.next=23;break;case 19:return e.prev=19,e.t1=e.catch(13),console.error("Failed decode json, POST:",e.t1),e.abrupt("return");case 23:c.error&&console.error("Failed to POST API:",c.error),L(!1),E({name:"",description:"",deadline:new Date(Date.now()+36e5)}),$();case 27:case"end":return e.stop()}}),e,null,[[3,9],[13,19]])}))),[L,E,$,t,H]),te=Object(r.useCallback)(Object(d.a)(o.a.mark((function e(){var t,n,r,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={id:_.target,name:_.name,description:_.description,deadline:_.deadline},(n=new Headers).append("Content-Type","application/json"),e.prev=3,e.next=6,fetch("http://localhost:3100/tasks",{headers:n,method:"PUT",body:JSON.stringify(t)});case 6:r=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),console.error("Failed to POST:",e.t0),e.abrupt("return");case 13:return e.prev=13,e.next=16,r.json();case 16:a=e.sent,e.next=23;break;case 19:return e.prev=19,e.t1=e.catch(13),console.error("Failed decode json, POST:",e.t1),e.abrupt("return");case 23:a.error&&console.error("Failed to POST API:",a.error),M({show:!1,name:"",description:"",deadline:new Date,target:0}),$();case 26:case"end":return e.stop()}}),e,null,[[3,9],[13,19]])}))),[M,$,_]),ne=Object(r.useCallback)(function(){var e=Object(d.a)(o.a.mark((function e(t,n){var r,a,c,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={id:t,isCompleted:n},(a=new Headers).append("Content-Type","application/json"),e.prev=3,e.next=6,fetch("http://localhost:3100/tasksStatus",{headers:a,method:"PUT",body:JSON.stringify(r)});case 6:c=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),console.error("Failed to POST:",e.t0),e.abrupt("return");case 13:return e.prev=13,e.next=16,c.json();case 16:s=e.sent,e.next=23;break;case 19:return e.prev=19,e.t1=e.catch(13),console.error("Failed decode json, POST:",e.t1),e.abrupt("return");case 23:s.error&&console.error("Failed to POST API:",s.error),$();case 25:case"end":return e.stop()}}),e,null,[[3,9],[13,19]])})));return function(t,n){return e.apply(this,arguments)}}(),[$]),re=Object(r.useCallback)(Object(d.a)(o.a.mark((function e(){var t,n,r,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={id:U.target},(n=new Headers).append("Content-Type","application/json"),e.prev=3,e.next=6,fetch("http://localhost:3100/tasks",{headers:n,method:"DELETE",body:JSON.stringify(t)});case 6:r=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),console.error("Failed to POST:",e.t0),e.abrupt("return");case 13:return e.prev=13,e.next=16,r.json();case 16:a=e.sent,e.next=23;break;case 19:return e.prev=19,e.t1=e.catch(13),console.error("Failed decode json, POST:",e.t1),e.abrupt("return");case 23:a.error&&console.error("Failed to POST API:",a.error),Z({show:!1,target:[]}),$();case 26:case"end":return e.stop()}}),e,null,[[3,9],[13,19]])}))),[Z,$,U]),ae=Object(r.useCallback)(Object(d.a)(o.a.mark((function e(){var t,n,r,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={id:Q.target,listId:Q.listId},(n=new Headers).append("Content-Type","application/json"),e.prev=3,e.next=6,fetch("http://localhost:3100/tasksList",{headers:n,method:"PUT",body:JSON.stringify(t)});case 6:r=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),console.error("Failed to POST:",e.t0),e.abrupt("return");case 13:return e.prev=13,e.next=16,r.json();case 16:a=e.sent,e.next=23;break;case 19:return e.prev=19,e.t1=e.catch(13),console.error("Failed decode json, POST:",e.t1),e.abrupt("return");case 23:a.error&&console.error("Failed to POST API:",a.error),V({show:!1,target:[],listId:0}),$();case 26:case"end":return e.stop()}}),e,null,[[3,9],[13,19]])}))),[V,$,Q]);return Object(r.useEffect)((function(){$()}),[$]),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(p.jsx)("h2",{children:"LOADED"===n.status?null===(e=n.value.find((function(e){return e.id===parseInt(t)})))||void 0===e?void 0:e.name:"Loading..."}),Object(p.jsx)("div",{className:"d-flex",children:X?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("div",{onClick:function(){return V({show:!0,target:Y,listId:n.value.filter((function(e){return e.id!==parseInt(t)}))[0].id})},className:"fs-3",children:Object(p.jsx)(g.b,{})}),Object(p.jsx)("div",{onClick:function(){return Z({show:!0,target:Y})},className:"fs-3",children:Object(p.jsx)(g.f,{})})]}):Object(p.jsx)("div",{onClick:function(){return L(!0)},className:"fs-3",children:Object(p.jsx)(g.a,{})})})]}),"LOADED"===h?Object(p.jsx)(m.a,{as:"ol",children:s.map((function(e,r){return Object(p.jsxs)(m.a.Item,{as:"li",className:"d-flex justify-content-between align-items-start",children:[Object(p.jsx)(y.a.Check,{as:"input",type:"checkbox",id:"default-checkbox",checked:e.isSelected,onChange:function(){return function(e,t){i((function(n){var r=Object(T.a)(n);return r[e].isSelected=t,r}))}(r,!e.isSelected)}}),Object(p.jsxs)("div",{className:"ms-2 me-auto",children:[Object(p.jsxs)("div",{className:"d-flex",children:[Object(p.jsx)("div",{className:"fw-bold me-2",children:e.name}),Object(p.jsx)(D.a,{bg:"primary",className:"me-2",pill:!0,children:e.deadline.toDateString()+" "+e.deadline.toLocaleTimeString()}),e.is_completed?Object(p.jsx)(D.a,{bg:"success",className:"me-2",pill:!0,children:"Completed"}):null]}),Object(p.jsx)("div",{children:e.description})]}),Object(p.jsxs)("div",{className:"fs-3 d-flex",children:[Object(p.jsx)("div",{onClick:function(){return ne(e.id,!e.is_completed)},children:e.is_completed?Object(p.jsx)(g.d,{}):Object(p.jsx)(g.c,{})}),Object(p.jsx)("div",{onClick:function(){return M({show:!0,name:e.name,description:e.description,deadline:new Date(e.deadline),target:e.id})},children:Object(p.jsx)(g.e,{})}),Object(p.jsx)("div",{onClick:function(){return V({show:!0,target:[e.id],listId:n.value.filter((function(e){return e.id!==parseInt(t)}))[0].id})},children:Object(p.jsx)(g.b,{})}),Object(p.jsx)("div",{onClick:function(){return Z({show:!0,target:[e.id]})},children:Object(p.jsx)(g.f,{})})]})]},e.id)}))}):Object(p.jsx)("div",{children:"Loading..."}),Object(p.jsxs)(v.a,{show:P,onHide:function(){return L(!1)},children:[Object(p.jsx)(v.a.Header,{closeButton:!0,children:Object(p.jsx)(v.a.Title,{children:"New Task"})}),Object(p.jsxs)(v.a.Body,{children:[Object(p.jsx)(y.a.Label,{children:"Name:"}),Object(p.jsx)(w.a,{"aria-describedby":"basic-addon3",value:H.name,onChange:function(e){return E((function(t){return Object(S.a)(Object(S.a)({},t),{},{name:e.target.value})}))}}),Object(p.jsx)(y.a.Label,{children:"Description"}),Object(p.jsx)(w.a,{"aria-describedby":"basic-addon3",value:H.description,onChange:function(e){return E((function(t){return Object(S.a)(Object(S.a)({},t),{},{description:e.target.value})}))}}),Object(p.jsx)(y.a.Label,{children:"Deadline:"}),Object(p.jsx)(F.a,{onChange:function(e){return E((function(t){return Object(S.a)(Object(S.a)({},t),{},{deadline:e})}))},selected:H.deadline,showTimeSelect:!0,dateFormat:"Pp"})]}),Object(p.jsxs)(v.a.Footer,{children:[Object(p.jsx)(f.a,{variant:"secondary",onClick:function(){return L(!1)},children:"Close"}),Object(p.jsx)(f.a,{variant:"primary",onClick:function(){return ee()},children:"Add"})]})]}),Object(p.jsxs)(v.a,{show:_.show,onHide:function(){return M({show:!1,name:"",description:"",deadline:new Date,target:0})},children:[Object(p.jsx)(v.a.Header,{closeButton:!0,children:Object(p.jsx)(v.a.Title,{children:"Edit ".concat(_.name)})}),Object(p.jsxs)(v.a.Body,{children:[Object(p.jsx)(y.a.Label,{children:"Name:"}),Object(p.jsx)(w.a,{"aria-describedby":"basic-addon3",value:_.name,onChange:function(e){return M((function(t){return Object(S.a)(Object(S.a)({},t),{},{name:e.target.value})}))}}),Object(p.jsx)(y.a.Label,{children:"Description"}),Object(p.jsx)(w.a,{"aria-describedby":"basic-addon3",value:_.description,onChange:function(e){return M((function(t){return Object(S.a)(Object(S.a)({},t),{},{description:e.target.value})}))}}),Object(p.jsx)(y.a.Label,{children:"Deadline:"}),Object(p.jsx)(F.a,{onChange:function(e){return M((function(t){return Object(S.a)(Object(S.a)({},t),{},{deadline:e})}))},selected:_.deadline,showTimeSelect:!0,dateFormat:"Pp"})]}),Object(p.jsxs)(v.a.Footer,{children:[Object(p.jsx)(f.a,{variant:"secondary",onClick:function(){return M({show:!1,name:"",description:"",deadline:new Date,target:0})},children:"Close"}),Object(p.jsx)(f.a,{variant:"primary",onClick:function(){return te()},children:"Edit"})]})]}),Object(p.jsxs)(v.a,{show:U.show,onHide:function(){return Z({show:!1,target:[]})},children:[Object(p.jsx)(v.a.Header,{closeButton:!0,children:Object(p.jsx)(v.a.Title,{children:"Confirm to Delete ".concat(z.join(", ")," ?")})}),Object(p.jsxs)(v.a.Footer,{children:[Object(p.jsx)(f.a,{variant:"secondary",onClick:function(){return Z({show:!1,target:[]})},children:"Close"}),Object(p.jsx)(f.a,{variant:"danger",onClick:function(){return re()},children:"Delete"})]})]}),Object(p.jsxs)(v.a,{show:Q.show,onHide:function(){return V({show:!1,target:[],listId:0})},children:[Object(p.jsx)(v.a.Header,{closeButton:!0,children:Object(p.jsx)(v.a.Title,{children:"Move ".concat(W.join(", "))})}),Object(p.jsxs)(v.a.Body,{children:[Object(p.jsx)(y.a.Label,{children:"Destination:"}),Object(p.jsx)(y.a.Select,{value:Q.listId,onChange:function(e){var t=parseInt(e.target.value);V((function(e){return Object(S.a)(Object(S.a)({},e),{},{listId:t})}))},children:"LOADED"===n.status?n.value.filter((function(e){return e.id!==parseInt(t)})).map((function(e){return Object(p.jsx)("option",{value:e.id,children:e.name},e.id)})):""})]}),Object(p.jsxs)(v.a.Footer,{children:[Object(p.jsx)(f.a,{variant:"secondary",onClick:function(){return V({show:!1,target:[],listId:0})},children:"Close"}),Object(p.jsx)(f.a,{variant:"primary",onClick:function(){return ae()},children:"Move"})]})]})]})}n(151);function N(){var e=Object(r.useState)({status:"LOADING"}),t=Object(l.a)(e,2),n=t[0],a=t[1],c=Object(r.useCallback)(Object(d.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:3100/lists");case 2:return t=e.sent,e.next=5,t.json();case 5:if(!(n=e.sent).error){e.next=9;break}return console.log("error"),e.abrupt("return");case 9:a({status:"LOADED",value:n});case 11:case"end":return e.stop()}}),e)}))),[a]);return Object(r.useEffect)((function(){c()}),[c]),Object(p.jsx)(j.a,{children:Object(p.jsx)(k.Provider,{value:n,children:Object(p.jsx)(u.d,{children:Object(p.jsxs)(u.b,{path:"/",element:Object(p.jsx)(x,{}),children:[Object(p.jsx)(u.b,{index:!0,element:Object(p.jsx)(C,{setListContextState:a,loadLists:c})}),Object(p.jsx)(u.b,{path:"list/:listId",element:Object(p.jsx)(L,{})})]})})})})}var A=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,169)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))};s.a.render(Object(p.jsx)(a.a.StrictMode,{children:Object(p.jsx)(N,{})}),document.getElementById("root")),A()}},[[153,1,2]]]);
//# sourceMappingURL=main.efec5758.chunk.js.map